# css-standar

> 前端css规范，写出有思路的样式

样式规范的原则是**有思路**与**一目了然**，请时刻记住这两条原则，写出易懂易改的样式。

## 目录结构
```
css/
--components/           /* 组件，'.c-*' */
--layouts/              /* 布局，'.l-*' */
--objects/              /* 对象，'.o-*'*/
--base.less             /* 样式reset，全局样式修改 */
--style.less            /* 公共样式入口 */
--utilities.less        /* 实用类，'.u-*' */
--variables.less        /* 变量 */
```

## 命名体系
* 字符小写，多个单词采用驼峰式。
* 单下划线“**_**”代表类的**组合**，在命名中只出现一次。
* 双下划线“**__**”连接**块**与**内元素**，在命名中只出现一次。
* 单横杆“**-**”连接**命名空间**。
* 双横杆“**--**”代表类的**扩展**，在命名中只出现一次。
* 为保持最大灵活性，样式都统一使用类编写，不使用标签元素。

## 块与内元素
### 块
 * 以块为单位划分页面，页面块的划分因人而异。
 * 在页面复杂时要尽量划分几个块，但不要划分过多过细的块，简单的页面可以只有一个块。
 * 块的命名纯粹由单词组成，不包含划线横杆等符号，多个单词遵循驼峰式，也就是当看到页面有一个纯粹由单词命名的类时，说明这是块的开始。

### 内元素
 * 在块中出现的任何标签都是内元素，内元素的命名格式为：_块__内元素_，如：_class='list__item'_。
 * 块与内元素的关系不是类似父->子->孙多级关系，只是一种表示内外的关系，即时无论内元素在块中嵌套多少层都遵循上面的命名格式，
   不会出现如：_class='list__item__title'_，应该是：_class='list__title'_。

## 扩展与组合
扩展与组合实际上是都是样式复用，它们代表了两种样式复用方式。

### 扩展
 * 扩展的命名格式为：_名称--扩展命名_，如：*.button--small*是*.button*的扩展。
 * 扩展的类不能单独定义，要定义时，要先定义基本类，如：定义*.button--small*之前需要先定义*.button*样式，在*less*中则是：

```
    // 基本类
    .button {
        ......
        ......
    }
    // 扩展基本类
    .button--small {
        .button;
        ......
        ......
    }
```

### 组合
 * 组合的命名格式为："名称 名称_组合名称1 名称_组合名称2 ... "，如："class='input input_readonly input_border'"，"class='form__label label_border'"。
 * 定义组合的样式时要紧跟着基本类，不能脱离复用的样式单独存在，如：定义".input_readonly"和".input_border"两个组合样式时，在*less*中则是：

```
    .input {
        ...... // 基本类的样式
        ......
        &.input_readonly {
            ......
            ......
        }
        &.input_border {
            ......
            ......
        }
    }
```

这样是错误的：

```
    // 复用的样式
    .input {
            ......
            ......
    }

    // 脱离了基本类单独存在了！！！
    .input_readonly {
            ......
            ......
    }

    // 脱离了基本类单独存在了！！！
    .input_border {
            ......
            ......
    }
```

## 公共样式与命名空间

项目中需要把公共的样式抽离出来，这也是一种样式复用的方式。命名空间是用来管理公共样式的，目的是让公共样式模块化和功能化。

### 命名格式
 * 命苦空间使用单横杆**-**连接，格式为：_前缀-名称_，如：_.l-flex_。
 * 可带有子命名空间，格式为：_前缀-子前缀-名称_，如：_.l-col-1_。

### 前缀
* _.l-_: 布局
* _.o-_: 对象
* _.c-_: 组件
* _.u-_: 实用
* _.js-_: 在js代码中使用

### .l-（布局）：
 * 定义关于定位、排列和边距方面的样式。
 * 定位：position、top、right、bottom、left、float、clear等；
   排列：flex、display、text-align、vertical-align、z-index等；
   边距：margin、padding。

### .o-（对象）:
 * 对象是页面中的一个基本元素，如：一个按钮、一个图标、一个输入框等。
 * 对象要足够简单，它不能包含其他对象和组件，而且应用的标签不能太复杂，一般情况只应用到一个标签。
 * 对象要足够独立，要保证把它放到任何地方都不影响外部布局或对外部布局影响非常小，也就是不出现类似position、float、margin等属性，
   但它可以有自身内部的布局，出现如：width、height、padding是可以的，只要它们对外部布局影响很小。

### .c-（组件）：
 * 组件可以看成是页面中的一个模块，如：一个导航栏、一个表单、一个列表等。
 * 组件是复杂的，它能包含其他对象和组件，一般情况都是根据需要由对象或组件拼合而成。
 * 组件不独立，它能影响外部布局，可以包含position、float、margin等属性。

### .u-（实用）：
 * 实用类是一些辅助类，一般只设置一个属性或设置某一方面的属性，如：'.u-noDisplay'（设置是否显示），'.u-paddingLr'（设置左右内边距）。
 * 为保证使用实用类的效果一定生效，属性值都设置*!important*。

### .js-（js钩子）：
 * 该命名空间的类主要用于js操作，如：根据该类获取到DOM元素等，现在很少使用。

### 使用注意：
 * 为保证公共样式的明确性，不能在页面中修改公共样式，但可以使用公共样式的类名定位页面中自定义的类，如：
 *objects/button.less**中有：

```
    .o-button {
        ......
        ......
    }
```

**detail.page.less**：

```
    // 试图修改公用类，不能这样！！！
    .o-button {
        ......
        ......
    }

    // 用公用类定位到自定义的类，可以
    .o-button .myIcon {
        ......
        ......
    }
```

* 在标签上应用样式时，书写的顺序是：先写公共类，后写自定义类；对布局影响越大的越写在前。

## 策略与步骤

### 策略：
  * 优先使用公用类实现效果，不能完全实现时，使用页面自定义类做微调。
  * 先考虑布局，再考虑外观（font/background/color/......）。

### 步骤：
  * 根据设计图归纳总结出公共样式，对应命名空间进行封装。
  * 切页面时先进行块的划分，再以块为单位逐一编写样式。
